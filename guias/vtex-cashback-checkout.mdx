---
title: "API de Checkout"
description: "Integre a BonifiQ ao checkout Mobile da sua loja VTEX"
---

A BonifiQ já oferece uma solução nativa para integrar diretamente ao Checkout da VTEX no modelo Web. No modelo Mobile, no entanto, requer que seja realizada a integração com as APIs da BonifiQ diretamente.

As integrações abrangem login seguro, consulta e aplicação de recompensa. As chamadas são projetadas para garantir uma experiência segura e eficiente para o consumidor.

### Principais Etapas

1. **Login seguro:** Autenticação do usuário e obtenção de token de segurança.
2. **Configuração do checkout:** Obtenção das configurações do programa de fidelidade.
3. **Consulta de pontos da compra:** Verificação de quantos pontos o cliente ganhará na compra.
4. **Consulta de recompensas:** Verificação do saldo e regras para utilização da recompensa.
5. **Aplicação de recompensa:** Resgate de recompensa no carrinho.
6. **Consulta de recompensa aplicada:** Verificação do estado da recompensa no carrinho.
7. **Remoção de recompensa:** Remover a recompensa aplicada a um carrinho.

---

## 1. Fazer Login Seguro

O primeiro passo é realizar o login do usuário e obter o seu token de segurança. Esse token de segurança será utilizado em todas as chamadas subsequentes.

O `sessionToken` e o `segmentToken` deverão ser obtidos mediante login na VTEX.

<Note>
  O `SecureToken` tem validade limitada e deve ser atualizado periodicamente.
</Note>

### Requisição

`POST /pub/widget/vendors/vtex/securelogin`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador público da loja.
</ParamField>

**Body**

<ParamField body="sessionToken" type="string" required>
  Gerado pela plataforma de e-commerce após o login do consumidor.
</ParamField>

<ParamField body="segmentToken" type="string" required>
  Gerado pela plataforma de e-commerce.
</ParamField>

### Exemplo

```bash
curl -X POST "https://api.bonifiq.com/pub/widget/vendors/vtex/securelogin" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "Content-Type: application/json" \
  -d '{
    "sessionToken": "<session_token>",
    "segmentToken": "<segment_token>"
  }'
```

### Resposta

<ResponseField name="HasError" type="boolean">
  Indica se houve erro na requisição.
</ResponseField>

<ResponseField name="Item" type="object">
  <Expandable title="Properties">
    <ResponseField name="Email" type="string">
      E-mail do usuário.
    </ResponseField>
    <ResponseField name="Name" type="string">
      Nome completo do usuário.
    </ResponseField>
    <ResponseField name="UserId" type="string">
      Identificador do usuário.
    </ResponseField>
    <ResponseField name="SecureToken" type="string">
      Token de segurança do usuário, com validade de 60 minutos.
    </ResponseField>
  </Expandable>
</ResponseField>

```json
{
  "HasError": false,
  "Message": null,
  "Item": {
    "Email": "usuario@dominio.com",
    "Name": "Nome Completo",
    "UserId": "usuario@dominio.com",
    "SecureToken": "742b9b93-c1dc-4ec1-8f92-6b3a1838c613"
  }
}
```

---

## 2. Obter Configuração do Checkout

Essa etapa é utilizada para obter as configurações do programa de fidelidade para o checkout, como cores, nome do programa e se utiliza pontos ou cashback.

### Requisição

`GET /pub/widget/rewards/checkout/configuration`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

### Exemplo

```bash
curl -X GET "https://api.bonifiq.com/pub/widget/rewards/checkout/configuration" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}"
```

### Resposta

<ResponseField name="Text" type="string">
  Texto customizado para exibição no checkout.
</ResponseField>

<ResponseField name="ProgramName" type="string">
  Nome do programa de fidelidade.
</ResponseField>

<ResponseField name="Color" type="string">
  Cor principal do programa (hexadecimal).
</ResponseField>

<ResponseField name="Active" type="boolean">
  Indica se o programa está ativo.
</ResponseField>

<ResponseField name="UseCashback" type="boolean">
  Indica se o programa utiliza cashback.
</ResponseField>

<ResponseField name="UsePoints" type="boolean">
  Indica se o programa utiliza pontos.
</ResponseField>

```json
{
  "Text": "Resgate seus pontos!",
  "ProgramName": "Programa Fidelidade",
  "Color": "#FF5722",
  "Active": true,
  "UseCashback": true,
  "UsePoints": true
}
```

---

## 3. Consultar Pontos da Compra

Essa etapa é utilizada para exibir ao cliente quantos pontos (ou cashback) ele ganhará na compra atual. Ideal para exibir mensagens como "Você ganhará X pontos nesta compra".

### Requisição

`GET /pub/widget/rewards/checkout/purchase-points`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Query Parameters**

<ParamField query="purchaseValue" type="number" required>
  Valor da compra.
</ParamField>

<ParamField query="checkoutCode" type="string">
  Identificador do carrinho (order_form_id). Opcional.
</ParamField>

### Exemplo

```bash
curl -X GET "https://api.bonifiq.com/pub/widget/rewards/checkout/purchase-points?purchaseValue=150.00&checkoutCode=abc123" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}"
```

### Resposta

<ResponseField name="MinValueToReceive" type="number">
  Valor mínimo da compra para receber pontos.
</ResponseField>

<ResponseField name="PurchasePoints" type="integer">
  Quantidade de pontos que o cliente ganhará nesta compra.
</ResponseField>

<ResponseField name="PurchaseCashback" type="number">
  Valor de cashback que o cliente ganhará nesta compra (se aplicável).
</ResponseField>

<ResponseField name="HasPurchaseObjective" type="boolean">
  Indica se existe um objetivo de compra configurado.
</ResponseField>

```json
{
  "MinValueToReceive": 50.00,
  "PurchasePoints": 150,
  "PurchaseCashback": 7.50,
  "HasPurchaseObjective": true
}
```

---

## 4. Buscar Recompensas

Essa etapa será utilizada para a listagem de recompensas disponíveis para o usuário logado.

### Requisição

`GET /pub/widget/rewards/checkout`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Query Parameters**

<ParamField query="purchaseValue" type="number" required>
  Valor da compra. É utilizado para determinar quais recompensas (e valores) são válidos para o carrinho.
</ParamField>

### Exemplo

```bash
curl -X GET "https://api.bonifiq.com/pub/widget/rewards/checkout?purchaseValue=100.00" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}"
```

### Resposta

<ResponseField name="ProgramName" type="string">
  Nome do programa de fidelidade.
</ResponseField>

<ResponseField name="PointsBalance" type="integer">
  Saldo de pontos do cliente.
</ResponseField>

<ResponseField name="HasError" type="boolean">
  Indica se houve erro na requisição.
</ResponseField>

<ResponseField name="Item" type="array">
  Lista de recompensas.

  <Expandable title="Item Object">
    <ResponseField name="Id" type="integer">
      Identificador da recompensa.
    </ResponseField>
    <ResponseField name="Type" type="integer">
      Tipo da recompensa (0 = Percentual, 1 = Valor fixo).
    </ResponseField>
    <ResponseField name="Title" type="string">
      Título da recompensa.
    </ResponseField>
    <ResponseField name="Points" type="integer">
      Quantidade de pontos necessários para resgatar.
    </ResponseField>
    <ResponseField name="Description" type="string">
      Descrição da recompensa.
    </ResponseField>
    <ResponseField name="Enabled" type="boolean">
      Indica se a recompensa está habilitada.
    </ResponseField>
    <ResponseField name="CanUse" type="boolean">
      Indica se o cliente pode usar esta recompensa.
    </ResponseField>
    <ResponseField name="UseReason" type="integer">
      Motivo da disponibilidade/indisponibilidade (ver tabela abaixo).
    </ResponseField>
    <ResponseField name="RemainingToUse" type="number">
      Valor restante para atingir o mínimo (se `UseReason` for 2).
    </ResponseField>
    <ResponseField name="MinValueToUse" type="number">
      Valor mínimo do carrinho para usar esta recompensa.
    </ResponseField>
  </Expandable>
</ResponseField>

```json
{
  "ProgramName": "VTEX IO QA",
  "PointsBalance": 10000,
  "HasError": false,
  "Message": null,
  "Item": [
    {
      "Id": 301,
      "Type": 1,
      "Title": "R$ 100,00",
      "Points": 100,
      "Description": "Descrição da recompensa...",
      "Enabled": true,
      "CanUse": true,
      "UseReason": 0,
      "RemainingToUse": 0,
      "MinValueToUse": 0
    }
  ]
}
```

#### Enumeração `UseReason`

| Valor | Descrição                               |
| :---- | :-------------------------------------- |
| 0     | CanUse (Recompensa disponível para uso) |
| 1     | NotEnoughPoints                         |
| 2     | MinValueNotReached                      |
| 3     | CashbackNotAvailable                    |
| 4     | NoCustomer                              |
| 5     | ValueRewardBiggerThanPurchase           |
| 6     | MinimumPercentPurchaseNotReached        |
| 7     | CustomerNotEnrolled                     |

---

## 4.1. Buscar Recompensas já Resgatadas

Essa etapa será utilizada para a listagem de recompensas já resgatadas e não utilizadas pelo consumidor.

### Requisição

`GET /pub/widget/rewards/checkout/redeemed`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Query Parameters**

<ParamField query="purchaseValue" type="number" required>
  Valor da compra.
</ParamField>

### Exemplo

```bash
curl -X GET "https://api.bonifiq.com/pub/widget/rewards/checkout/redeemed?purchaseValue=100.00" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}"
```

### Resposta

```json
{
  "HasError": false,
  "Message": null,
  "Item": [
    {
      "RedeemedId": 1302,
      "RedeemedPoints": -10,
      "RedeemedValue": 0,
      "Id": 302,
      "Type": 0,
      "Title": "10%",
      "Points": 10,
      "CanUse": true,
      "UseReason": 0
    }
  ]
}
```

---

## 5. Aplicar Recompensa

Essa etapa será utilizada para a aplicação de recompensas ainda não resgatadas.

### Requisição

`POST /pub/widget/rewards/redeem/{reward_id}`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Path Parameters**

<ParamField path="reward_id" type="integer" required>
  ID da recompensa a ser resgatada.
</ParamField>

**Body (Opcional)**

<ParamField body="OriginalId" type="string">
  Identificador do carrinho (order_form_id).
</ParamField>

### Exemplo

```bash
curl -X POST "https://api.bonifiq.com/pub/widget/rewards/redeem/301" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "OriginalId": "<order_form_id>"
  }'
```

### Resposta

```json
{
  "HasError": false,
  "Message": "Tudo Certo! Em breve você irá receber um e-mail com mais instruções",
  "Item": {
    "Success": true,
    "ResultMessage": "Utilize seu cupom nesta compra:",
    "CouponCode": "c806711b278a463d8e787f5f5c409f89",
    "HasCouponCode": true,
    "Reward": {
      "RedeemedId": 1416,
      "Title": "2%",
      "Points": 2
    }
  }
}
```

---

## 5.1. Aplicar Recompensa já Resgatada

Essa etapa será utilizada para a aplicação de recompensas já resgatadas.

### Requisição

`POST /pub/widget/rewardredeemed/checkout/redeem/{reward_redeemed_id}`

<Warning>
  O valor de `reward_redeemed_id` deverá ser o valor retornado na propriedade `RedeemedId` da seção "Buscar Recompensas já Resgatadas".
</Warning>

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Path Parameters**

<ParamField path="reward_redeemed_id" type="integer" required>
  ID da recompensa resgatada.
</ParamField>

**Body (Opcional)**

<ParamField body="OriginalId" type="string">
  Identificador do carrinho (order_form_id).
</ParamField>

### Exemplo

```bash
curl -X POST "https://api.bonifiq.com/pub/widget/rewardredeemed/checkout/redeem/1302" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "OriginalId": "<order_form_id>"
  }'
```

---

## 6. Validar Cashback

Essa etapa é utilizada para verificar se o cliente pode utilizar cashback e qual o valor disponível. Deve ser chamada antes de aplicar o cashback.

### Requisição

`GET /pub/widget/rewards/checkout/cashback/{ORDER_FORM_ID}`

ou

`POST /pub/widget/rewards/checkout/cashback`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Path Parameters (GET)**

<ParamField path="ORDER_FORM_ID" type="string" required>
  Identificador do carrinho.
</ParamField>

**Body (POST)**

<ParamField body="CheckoutId" type="string" required>
  Identificador do carrinho (order_form_id).
</ParamField>

### Exemplo (GET)

```bash
curl -X GET "https://api.bonifiq.com/pub/widget/rewards/checkout/cashback/abc123" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}"
```

### Exemplo (POST)

```bash
curl -X POST "https://api.bonifiq.com/pub/widget/rewards/checkout/cashback" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "CheckoutId": "<order_form_id>"
  }'
```

### Resposta

<ResponseField name="CashbackBalance" type="number">
  Saldo total de cashback do cliente.
</ResponseField>

<ResponseField name="UsableCashback" type="number">
  Valor de cashback que pode ser utilizado nesta compra.
</ResponseField>

<ResponseField name="MaxUsableCashback" type="number">
  Valor máximo de cashback permitido para esta compra.
</ResponseField>

<ResponseField name="CashbackRules" type="string">
  Regras de utilização do cashback (texto para exibição).
</ResponseField>

<ResponseField name="CanUse" type="boolean">
  Indica se o cliente pode usar cashback nesta compra.
</ResponseField>

<ResponseField name="CashbackWillReceiveText" type="string">
  Texto informando quanto cashback o cliente receberá.
</ResponseField>

<ResponseField name="RequiredToAddMoreText" type="string">
  Texto informando quanto falta para usar o cashback.
</ResponseField>

<ResponseField name="IsCashbackAvailable" type="boolean">
  Indica se o cashback está disponível.
</ResponseField>

<ResponseField name="RemainingToTotalCashback" type="number">
  Valor restante para usar todo o cashback.
</ResponseField>

<ResponseField name="RemainingToUse" type="number">
  Valor restante para atingir o mínimo necessário.
</ResponseField>

<ResponseField name="hasProductsIneligibleForCashback" type="boolean">
  Indica se há produtos no carrinho que não são elegíveis para cashback.
</ResponseField>

<ResponseField name="MinValueToUse" type="number">
  Valor mínimo do carrinho para usar cashback.
</ResponseField>

```json
{
  "CashbackBalance": 50.00,
  "UsableCashback": 25.00,
  "MaxUsableCashback": 50.00,
  "CashbackRules": "Pague até 50% da compra com cashback.",
  "CanUse": true,
  "CashbackWillReceiveText": "Você receberá R$ 5,00 de cashback nesta compra",
  "RequiredToAddMoreText": null,
  "IsCashbackAvailable": true,
  "RemainingToTotalCashback": 0,
  "RemainingToUse": 0,
  "hasProductsIneligibleForCashback": false,
  "MinValueToUse": 20.00
}
```

---

## 6.1. Aplicar Cashback

Essa etapa será utilizada para a aplicação de cashback.

### Requisição

`POST /pub/widget/rewards/checkout/cashback/redeem`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Body**

<ParamField body="CheckoutId" type="string" required>
  Identificador do carrinho (order_form_id).
</ParamField>

<ParamField body="CashbackValue" type="number" required>
  Valor do cashback a ser resgatado.
</ParamField>

<ParamField body="RedeemOrigin" type="integer" required>
  Origem do resgate. Use `3` para checkout mobile.
</ParamField>

<ParamField body="Total" type="number" required>
  Valor do carrinho (sem descontos ou frete).
</ParamField>

### Exemplo

```bash
curl -X POST "https://api.bonifiq.com/pub/widget/rewards/checkout/cashback/redeem" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "CheckoutId": "<order_form_id>",
    "CashbackValue": 25.00,
    "RedeemOrigin": 3,
    "Total": 150.00
  }'
```

### Resposta

```json
{
  "AppliedCashback": 25.00,
  "Success": true,
  "CustomerMessage": "Cashback resgatado com sucesso.",
  "CashbackRules": "Pague até 50% da compra com cashback.",
  "InternalMessage": null,
  "CouponCode": null
}
```

---

## 6.2. Consultar Cashback Aplicado

Essa etapa é utilizada para verificar se há cashback aplicado ao carrinho.

### Requisição

`GET /pub/widget/rewards/checkout/cashback/{ORDER_FORM_ID}/redeemed`

ou

`POST /pub/widget/rewards/checkout/cashback/redeemed`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Path Parameters (GET)**

<ParamField path="ORDER_FORM_ID" type="string" required>
  Identificador do carrinho.
</ParamField>

**Body (POST)**

<ParamField body="CheckoutId" type="string" required>
  Identificador do carrinho (order_form_id).
</ParamField>

### Exemplo (GET)

```bash
curl -X GET "https://api.bonifiq.com/pub/widget/rewards/checkout/cashback/abc123/redeemed" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}"
```

### Resposta

```json
{
  "AppliedCashback": 25.00,
  "Success": true,
  "CustomerMessage": "Você está utilizando R$ 25,00 de cashback.",
  "CashbackRules": "Pague até 50% da compra com cashback.",
  "InternalMessage": null,
  "CouponCode": null
}
```

---

## 6.3. Atualizar Cashback (Refresh)

Essa etapa é utilizada para recalcular o cashback quando o carrinho é alterado (itens adicionados/removidos).

### Requisição

`POST /pub/widget/rewards/checkout/cashback/{ORDER_FORM_ID}/refresh`

ou

`POST /pub/widget/rewards/checkout/cashback/refresh`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Path Parameters (primeira opção)**

<ParamField path="ORDER_FORM_ID" type="string" required>
  Identificador do carrinho.
</ParamField>

**Body (segunda opção)**

<ParamField body="CheckoutId" type="string" required>
  Identificador do carrinho (order_form_id).
</ParamField>

### Exemplo

```bash
curl -X POST "https://api.bonifiq.com/pub/widget/rewards/checkout/cashback/refresh" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "CheckoutId": "<order_form_id>"
  }'
```

### Resposta

<ResponseField name="CashbackRemoved" type="boolean">
  Indica se o cashback foi removido (por exemplo, se o carrinho ficou abaixo do mínimo).
</ResponseField>

<ResponseField name="CustomerMessage" type="string">
  Mensagem para exibir ao cliente.
</ResponseField>

```json
{
  "CashbackRemoved": false,
  "CustomerMessage": "Cashback atualizado com sucesso."
}
```

---

## 7. Consultar Recompensa Aplicada

Esta etapa será utilizada para o caso do cliente sair da tela do checkout e seja necessário reaplicar o estado de recompensa resgatada a ele.

### Requisição (GET)

`GET /pub/widget/rewards/checkout/{checkoutCode}`

### Requisição (POST)

`POST /pub/widget/rewards/checkout`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Path Parameters (GET)**

<ParamField path="checkoutCode" type="string" required>
  Identificador do carrinho (order_form_id).
</ParamField>

**Body (POST)**

<ParamField body="CheckoutCode" type="string" required>
  Identificador do carrinho (order_form_id).
</ParamField>

### Exemplo (GET)

```bash
curl -X GET "https://api.bonifiq.com/pub/widget/rewards/checkout/abc123" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}"
```

### Exemplo (POST)

```bash
curl -X POST "https://api.bonifiq.com/pub/widget/rewards/checkout" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "CheckoutCode": "<order_form_id>"
  }'
```

### Resposta

```json
{
  "ProgramName": "VTEX IO QA",
  "HasError": false,
  "Item": {
    "Success": true,
    "CouponCode": "c806711b278a463d8e787f5f5c409f89",
    "Reward": {
      "Id": 302,
      "Title": "10%",
      "Points": 10,
      "CanUse": false
    }
  }
}
```

---

## 8. Remover Recompensa Aplicada

Esta etapa será utilizada para remoção de uma recompensa que foi aplicada ao carrinho.

<Warning>
  Este método apenas remove a recompensa resgatada do carrinho. Ele não realiza o estorno dos pontos para a carteira do consumidor e nem cancela o resgate da recompensa.
</Warning>

### Requisição

`POST /pub/widget/rewards/checkout/{reward_redeemed_id}/reverse`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Path Parameters**

<ParamField path="reward_redeemed_id" type="integer" required>
  ID da recompensa resgatada a ser removida do carrinho.
</ParamField>

### Exemplo

```bash
curl -X POST "https://api.bonifiq.com/pub/widget/rewards/checkout/1416/reverse" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}"
```

---

## 8.1. Remover Cashback Aplicado

Esta etapa será utilizada para remoção de um cashback que foi aplicado ao carrinho.

<Warning>
  Este método remove o cashback do carrinho e também realiza o estorno dos pontos de volta à carteira do consumidor, diferentemente da remoção de recompensa.
</Warning>

### Requisição

`POST /pub/widget/rewards/checkout/cashback/redeem/remove`

**Headers**

<ParamField header="X-Bq-Tenant" type="string" required>
  Identificador da loja.
</ParamField>

<ParamField header="X-Bq-SecureToken" type="string" required>
  Token do usuário obtido no login seguro.
</ParamField>

**Body**

<ParamField body="CheckoutId" type="string" required>
  Identificador do carrinho (order_form_id).
</ParamField>

<ParamField body="Total" type="number" required>
  Valor do carrinho (sem descontos ou frete).
</ParamField>

### Exemplo

```bash
curl -X POST "https://api.bonifiq.com/pub/widget/rewards/checkout/cashback/redeem/remove" \
  -H "X-Bq-Tenant: {tenant_key}" \
  -H "X-Bq-SecureToken: {secure_token}" \
  -H "Content-Type: application/json" \
  -d '{
    "CheckoutId": "<order_form_id>",
    "Total": 150.00
  }'
```

### Resposta

<ResponseField name="Success" type="boolean">
  Indica se a operação foi bem sucedida.
</ResponseField>

<ResponseField name="CustomerMessage" type="string">
  Mensagem para exibir ao cliente.
</ResponseField>

```json
{
  "Success": true,
  "CustomerMessage": "O cashback foi removido com sucesso"
}
```
